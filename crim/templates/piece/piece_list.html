{% extends "base.html" %}
{% load newline_to_break_tag %}
{% load markdown %}
{% load shorten %}

{% block title %}
<title>CRIM | Pieces</title>
{% endblock %}

{% block wrap %}
<div class="row-fluid">
    <div class="span12">
        <div class="show-heading row-fluid">
            <hgroup class="show-title page-title span12">
              <h1>Pieces</h1>
            </hgroup>
        </div>
    </div>
</div>
<div class="row-fluid">
    <div class="span12">
        <table class="table table-striped table-bordered table-hover">
            <tr>
                <th>Piece ID</th>
                <th>Title</th>
                <th>Genre</th>
                <th>Composer</th>
                <th>Date</th>
                <th>Remarks</th>
            </tr>
            {% for piece in content %}
            <tr>
                <td>{{ piece.piece_id }}</td>
                <td><a href="{{ piece.url }}">{{ piece.title }}</a></td>
                <td><a href="{{piece.genre.url }}">{{ piece.genre.name }}</a></td>
                <td>{{ piece.composers_with_url|safe }}</td>
                <td>{{ piece.date }}</td>
                <td>{{ piece.remarks|markdown|shorten|safe }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>
</div>
{% endblock %}
