{% load crispy_forms_tags %}
{% load concat_str %}
{% load dict_lookup %}

<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8" >
        <meta name="viewport" content="width=device-width, initial-scale=1.0" >

        <!--Bootstrap CSS-->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <!-- Continuo styles override -->
        <link rel="stylesheet" href="/static/continuo.css">
        <style>
        .cnt-container .cnt-pagination {
            position: absolute;
            top: auto;
            right: 85px;
        }
        .cnt-container .cnt-emabox {
            position: absolute;
            top: auto;
            left: auto;
            max-width: 85%;
        }
        </style>
    </head>
    <body>
    <div class="shadow-none p-4 mt-4 mb-4 bg-light">
        <div class="text-center">
            {% if not copy %}
                <h1>Edit Relationship &lt;R{{relationship.id}}&gt;</h1>
            {% else %}
                <h1>Copy Relationship {% if relationship.id %}&lt;R{{relationship.id}}&gt;{% endif %}</h1>
            {% endif %}
        </div>
        <br /><br />
        {% csrf_token %}

        <input type="hidden" name="relationship_id" id="relationship_id" value="{{ relationship.id }}" >
        <input type="hidden" name="observer" id="id_observer" value="{{ relationship.observer.person_id }}">

        <div class="row-sm text-center" >
            <p><strong>There was an issue with rendering the form.  Please contact a CRIM administrator for assistance with this record.</strong></p>
        </div>

        <input class="btn btn-cancel" type="button" name="Cancel" value="Cancel" id="cancel" >
    </div>

    <!-- Javascript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs/dist/tf.min.js"> </script>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <script>
        // Add the cancel button action to take the user back to the details page
        $('#cancel').on('click', function() {
            const url = '{{ back_url }}';
            window.location.href = url;
        });
    </script>

    </body>
</html>
