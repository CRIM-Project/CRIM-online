{% extends "base.html" %}
{% load markdown %}
{% load shorten %}
{% load sortable_header %}



{% block title %}
  <title>CRIM | Masses</title>
{% endblock %}

{% block wrap %}
  <div class="row-fluid">
    <div class="span12">
      <div class="show-heading row-fluid">
        <hgroup class="show-title page-title main span12">
          <h1>Masses</h1>
        </hgroup>
      </div>
    </div>
  </div>
  <div class="row-fluid">
    <div class="span12">
      <table class="table table-white table-bordered table-hover">
        <thead>
          <tr>
            <th>{% sortable_header "Mass ID" "order_by" "mass_id" True %}</th>
            <th>{% sortable_header "Title" "order_by" "title" %}</th>
            <th>{% sortable_header "Composer" "order_by" "composer__name_sort" %}</th>
            <th>{% sortable_header "Voices" "order_by" "max_number_of_voices" %}</th>
            <th>{% sortable_header "Date" "order_by" "date_sort" %}</th>
          </tr>
        </thead>
        <tbody>
          {% for mass in content %}
            <tr>
              <td><a href="{{ mass.url|htmlsite }}">[{{ mass.mass_id }}]</a></td>
              <td><a href="{{ mass.url|htmlsite }}">{{ mass.title }}</a></td>
              <td><a href="{{ mass.composer.url|htmlsite }}">{{ mass.composer.name }}</a></td>
              <td>{{ mass.total_voice_count|figuredash }}</td>
              <td>{{ mass.date }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
