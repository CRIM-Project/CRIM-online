{% extends "base.html" %}
{% load markdown %}
{% load shorten %}
{% load people %}
{% load earliest_date %}

{% block title %}
  <title>CRIM | Masses</title>
{% endblock %}

{% block wrap %}
  <div class="row-fluid">
    <div class="span12">
      <div class="show-heading row-fluid">
        <hgroup class="show-title page-title main span12">
          <h1>Masses</h1>
        </hgroup>
      </div>
    </div>
  </div>
  <div class="row-fluid">
    <div class="span12">
      <table class="table table-white table-bordered table-hover">
        <thead>
          <tr>
            <th><a href="?order_by=mass_id">Mass ID</a></th>
            <th><a href="?order_by=title">Title</a></th>
            <th>Composer</th>
            <th>Voices</th>
            <th>Date</th>
          </tr>
        </thead>
        <tbody>
          {% for mass in content %}
            <tr>
              <td><a href="{{ mass.url|htmlsite }}">[{{ mass.mass_id }}]</a></td>
              <td><a href="{{ mass.url|htmlsite }}">{{ mass.title }}</a></td>
              <td>{{ mass.roles|people:"composer"|safe }}</td>
              <td>{{ mass.number_of_voices|figuredash }}</td>
              <td>{{ mass.roles|earliest_date:"composer" }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
